# Spring Boot v2 to v3 Migration Requirements

## Common migration requirements

Hereâ€™s a table covering the most common requirements for migrating from **Spring Boot v2** to **Spring Boot v3**:

| **Migration Area**             | **Requirement/Change**                                         | **Description**                                                                                                                                                                                                                             |
|--------------------------------|----------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| **Java Version**               | **Upgrade to Java 17**                                         | Spring Boot 3 requires Java 17 as the minimum supported version (see the configuration properties in `pom.xml` or `build.gradle`). _Not all packages have been changed from `javax` to `jakarta`. For example, `javax.sql` is still valid._ |
| **Jakarta EE Namespace**       | **Update `javax` packages to `jakarta`**                       | The entire Jakarta EE namespace has changed from `javax.*` to `jakarta.*`. Ensure all dependencies and imports are updated.                                                                                                                 |
| **Dependencies Compatibility** | **Check library compatibility**                                | Verify that third-party libraries are compatible with Jakarta EE and Java 17, as many libraries might need updating or replacement.                                                                                                         |
| **Spring Security**            | **Upgrade Spring Security configurations**                     | Updates in method names and configurations; specifically, `WebSecurityConfigurerAdapter` is removed, so replace it with lambdas or beans as needed.                                                                                         |
| **Actuator Endpoints**         | **Changes in Actuator endpoint structure**                     | Some Actuator endpoints were removed or renamed. Update monitoring tools to match new endpoints and configurations.                                                                                                                         |
| **Hibernate and JPA**          | **Use Jakarta Persistence API**                                | `javax.persistence` is now `jakarta.persistence`, and update Hibernate to v6 if applicable.                                                                                                                                                 |
| **Spring MVC/WebFlux**         | **Update servlet/web filter imports**                          | Replace `javax.servlet` imports with `jakarta.servlet` and update any custom filters or interceptors accordingly.                                                                                                                           |
| **Validation API**             | **Update to `jakarta.validation`**                             | The validation package moved from `javax.validation` to `jakarta.validation`. Update annotations like `@Valid`, `@NotNull`, etc.                                                                                                            |
| **Testing Dependencies**       | **Update testing dependencies (e.g., Mockito, JUnit 5)**       | Ensure testing libraries are compatible with Java 17 and Spring Boot 3. Some older versions of Mockito, for example, may be incompatible.                                                                                                   |
| **Micrometer/Observability**   | **Configure Micrometer and Observability in Actuator**         | Spring Boot 3 enhanced observability integrations. Check and update Micrometer configurations, as some metrics collection might require adjustments.                                                                                        |
| **Configuration Properties**   | **Migrate deprecated properties**                              | Several configuration properties were deprecated or removed. Refer to the [Spring Boot migration guide](https://docs.spring.io) to check for specific replacements.                                                                         |
| **HTTP Interfaces**            | **Use declarative HTTP clients with `@HttpExchange`**          | Spring Boot 3 introduced `@HttpExchange` for declarative HTTP interfaces, replacing the need for `RestTemplate` in some cases.                                                                                                              |
| **Native Image Support**       | **Configure for GraalVM native images if needed**              | Spring Boot 3 adds better support for native images. If using GraalVM, update configurations for compatibility with Spring Boot 3.                                                                                                          |

Each of these areas may require careful updating and testing, especially when dealing with namespace changes or deprecated configurations.
